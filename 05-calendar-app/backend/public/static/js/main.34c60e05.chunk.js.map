{"version":3,"sources":["types/types.js","reducers/uiReducer.js","reducers/calendarReducer.js","reducers/authReducer.js","reducers/rootReducer.js","store/store.js","hooks/useForm.jsx","helpers/fetch.js","helpers/prepareEvents.js","actions/events.js","actions/auth.js","components/auth/LoginScreen.js","components/ui/Navbar.js","components/calendar/CalendarEvent.js","actions/ui.js","components/calendar/CalendarModal.js","helpers/calendar-messages-es.js","components/ui/AddNewFab.js","components/ui/DeleteEventFab.js","components/calendar/CalendarScreen.js","router/PublicRoute.jsx","router/PrivateRoute.jsx","router/AppRouter.js","CalendarApp.js","index.js"],"names":["types","initialState","modalOpen","events","activeEvent","checking","rootReducer","combineReducers","ui","state","action","type","calendar","payload","map","event","id","filter","auth","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","useForm","useState","values","setValues","handleInputChange","e","target","name","value","reset","baseURL","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","localStorage","getItem","prepareEvents","end","moment","toDate","start","eventAddNew","eventClearActiveEvent","eventUpdated","eventDeleted","eventLoaded","checkingFinish","login","user","logout","LoginScreen","dispatch","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","rName","rEmail","rPassword","rPassword2","formRegisterValues","handleRegisterInputChange","className","onSubmit","email","password","preventDefault","a","resp","json","ok","setItem","Date","getTime","uid","Swal","fire","msg","placeholder","onChange","Navbar","useSelector","onClick","clear","CalendarEvent","title","uiOpenModal","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","now","minutes","seconds","add","nowPlus1","clone","initEvent","notes","CalendarModal","dateStart","setDateStart","dateEnd","setDateEnd","titleValid","setTitleValid","formValues","setFormValues","useEffect","closeModal","isOpen","onRequestClose","style","closeTimeoutMS","overlayClassName","momentStart","momentEnd","isSameOrAfter","trim","length","console","log","getState","evento","_id","eventStartAddNew","minDate","autoComplete","rows","messages","allDay","previous","next","today","month","week","day","agenda","date","time","noEventsInRange","showMore","total","AddNewFab","DeleteEventFab","handleDelete","locale","localizer","momentLocalizer","CalendarScreen","lastView","setLastView","eventos","startAccessor","endAccessor","eventPropGetter","isSelected","backgroundColor","borderRadius","opacity","display","color","onDoubleClickEvent","onSelectEvent","onView","onSelectSlot","selectable","view","components","PublicRoute","isAuthenticated","Component","component","rest","props","to","PrivateRoute","AppRouter","exact","path","CalendarApp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.34c60e05.chunk.js","sourcesContent":["export const types = {\n\tuiOpenModal: \"[UI] Open Modal\",\n\tuiCloseModal: \"[UI] Close Modal\",\n\n\teventSetActive: \"[Events] SetActive\",\n\teventLogout: '[Events] Clean',\n\n\teventStartAddNew: \"[Events] Start Add New\",\n\teventAddNew: \"[Events] Added New Event\",\n\teventClearActiveEvent: \"[Events] Clear Active Event\",\n\teventUpdated: \"[Events] Event Updated\",\n\teventDeleted: \"[Events] Event Deleted\",\n\teventLoaded: \"[Events] Loaded\", \n\n\tauthCheckingFinish: \"[Auth] Checking finish state\",\n\tauthStartLogin: \"[Auth] Start login\",\n\tauthLogin: \"[Auth] Logged\",\n\tauthStartRegister: \"[Auth] Start Register\",\n\tauthStartTokenRenew: \"[Auth] Start Token Renew\",\n\tauthLogout: \"[Auth] Logout\",\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tmodalOpen: false,\n};\n\nexport const uiReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.uiOpenModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodalOpen: true,\n\t\t\t};\n\t\tcase types.uiCloseModal:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmodalOpen: false,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\n// {\n// \tid: new Date().getTime(),\n// \ttitle: \"Cumpleaños del jefe\",\n// \tstart: moment().toDate(),\n// \tend: moment().add(2, \"hours\").toDate(),\n// \tnotes: \"Comprar el pastel\",\n// \tuser: {\n// \t\t_id: \"123\",\n// \t\tname: \"Diego\",\n// \t},\n// },\n\nconst initialState = {\n\tevents: [],\n\tactiveEvent: null,\n};\n\nexport const calendarReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.eventSetActive:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveEvent: action.payload,\n\t\t\t};\n\t\tcase types.eventAddNew:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: [...state.events, action.payload],\n\t\t\t};\n\n\t\tcase types.eventClearActiveEvent:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tactiveEvent: null,\n\t\t\t};\n\t\tcase types.eventUpdated:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: state.events.map((event) =>\n\t\t\t\t\tevent.id === action.payload.id ? action.payload : event\n\t\t\t\t),\n\t\t\t};\n\t\tcase types.eventDeleted:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: state.events.filter(\n\t\t\t\t\t(event) => event.id !== state.activeEvent.id\n\t\t\t\t),\n\t\t\t\tactiveEvent: null,\n\t\t\t};\n\n\t\tcase types.eventLoaded:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tevents: [...action.payload],\n\t\t\t};\n\n\t\tcase types.eventLogout:\n\t\t\treturn { ...initialState };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n\tchecking: true,\n\t// uid: null,\n\t// name: null\n};\n\nexport const authReducer = (state = initialState, action) => {\n\tswitch (action.type) {\n\t\tcase types.authLogin:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t\tchecking: false,\n\t\t\t};\n\t\tcase types.authCheckingFinish:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tchecking: false,\n\t\t\t};\n\n\t\tcase types.authLogout:\n\t\t\treturn { checking: false };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n","import { combineReducers } from \"redux\";\nimport { uiReducer } from \"./uiReducer\";\nimport { calendarReducer } from \"./calendarReducer\";\nimport { authReducer } from \"../reducers/authReducer\";\n\nexport const rootReducer = combineReducers({\n\tui: uiReducer,\n\tcalendar: calendarReducer,\n\tauth: authReducer,\n});\n","import { createStore, compose, applyMiddleware } from \"redux\";\nimport { rootReducer } from \"../reducers/rootReducer\";\nimport thunk from \"redux-thunk\";\n\nconst composeEnhancers =\n\t(typeof window !== \"undefined\" &&\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n\tcompose;\n\nexport const store = createStore(\n\trootReducer,\n\tcomposeEnhancers(applyMiddleware(thunk))\n);\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n\tconst [values, setValues] = useState(initialState);\n\n\tconst handleInputChange = (e) => {\n\t\tsetValues({\n\t\t\t...values,\n\t\t\t[e.target.name]: e.target.value,\n\t\t});\n\t};\n\n\tconst reset = () => {\n\t\tsetValues(initialState);\n\t};\n\n\treturn [values, handleInputChange, reset];\n};\n","const baseURL = process.env.REACT_APP_API_URL;\n\nexport const fetchSinToken = (endpoint, data, method = \"GET\") => {\n\tconst url = `${baseURL}/${endpoint}`; //localhost:4000/api/\n\n\tif (method === \"GET\") {\n\t\treturn fetch(url);\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\t}\n};\n\nexport const fetchConToken = (endpoint, data, method = \"GET\") => {\n\tconst url = `${baseURL}/${endpoint}`; //localhost:4000/api/\n\tconst token = localStorage.getItem(\"token\") || \"\";\n\n\tif (method === \"GET\") {\n\t\treturn fetch(url, { method, headers: { \"x-token\": token } });\n\t} else {\n\t\treturn fetch(url, {\n\t\t\tmethod,\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\"x-token\": token,\n\t\t\t},\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\t}\n};\n","import moment from \"moment\";\n\nexport const prepareEvents = (events = []) => {\n\treturn events.map((event) => ({\n\t\t...event,\n\t\tend: moment(event.end).toDate(),\n\t\tstart: moment(event.start).toDate(),\n\t}));\n};\n","import { types } from \"../types/types\";\nimport { fetchConToken } from \"../helpers/fetch\";\nimport { prepareEvents } from \"../helpers/prepareEvents\";\nimport Swal from \"sweetalert2\";\n\nexport const eventStartAddNew = (event) => {\n\treturn async (dispatch, getState) => {\n\t\tconst { uid, name } = getState().auth;\n\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(\"events\", event, \"POST\");\n\t\t\tconst body = await resp.json();\n\n\t\t\tif (body.ok) {\n\t\t\t\tevent.id = body.evento.id;\n\t\t\t\tevent.user = {\n\t\t\t\t\t_id: uid,\n\t\t\t\t\tname,\n\t\t\t\t};\n\t\t\t\tdispatch(eventAddNew(event));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nconst eventAddNew = (event) => ({\n\ttype: types.eventAddNew,\n\tpayload: event,\n});\nexport const eventSetActive = (event) => ({\n\ttype: types.eventSetActive,\n\tpayload: event,\n});\n\nexport const eventClearActiveEvent = () => ({\n\ttype: types.eventClearActiveEvent,\n});\n\nexport const eventStartUpdate = (event) => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(\n\t\t\t\t`events/${event.id}`,\n\t\t\t\tevent,\n\t\t\t\t\"PUT\"\n\t\t\t);\n\t\t\tconst body = await resp.json();\n\n\t\t\tif (body.ok) {\n\t\t\t\tdispatch(eventUpdated(event));\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nconst eventUpdated = (event) => ({\n\ttype: types.eventUpdated,\n\tpayload: event,\n});\n\nexport const eventStartDelete = () => {\n\treturn async (dispatch, getState) => {\n\n\t\tconst {id} = getState().calendar.activeEvent\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(\n\t\t\t\t`events/${id}`,\n\t\t\t\t{},\n\t\t\t\t\"DELETE\"\n\t\t\t);\n\t\t\tconst body = await resp.json();\n\n\t\t\tif (body.ok) {\n\t\t\t\tdispatch(eventDeleted(id));\n\t\t\t} else {\n\t\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nconst eventDeleted = () => ({\n\ttype: types.eventDeleted,\n});\n\nexport const eventStartLoading = () => {\n\treturn async (dispatch) => {\n\t\ttry {\n\t\t\tconst resp = await fetchConToken(\"events\");\n\t\t\tconst body = await resp.json();\n\n\t\t\tconst events = prepareEvents(body.eventos);\n\t\t\tdispatch(eventLoaded(events));\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n};\n\nconst eventLoaded = (events) => ({\n\ttype: types.eventLoaded,\n\tpayload: events,\n});\n\nexport const eventLogout = () => ({\n\ttype: types.eventLogout\n})\n","import { fetchSinToken, fetchConToken } from \"../helpers/fetch\";\nimport { types } from \"../types/types\";\nimport Swal from \"sweetalert2\";\nimport { eventLogout } from \"./events\";\n\nexport const startLogin = (email, password) => {\n\treturn async (dispatch) => {\n\t\tconst resp = await fetchSinToken(\"auth\", { email, password }, \"POST\");\n\t\tconst body = await resp.json();\n\n\t\tif (body.ok) {\n\t\t\tlocalStorage.setItem(\"token\", body.token);\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\n\n\t\t\tdispatch(login({ uid: body.uid, name: body.name }));\n\t\t} else {\n\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t}\n\t};\n};\n\nexport const startRegister = (email, password, name) => {\n\treturn async (dispatch) => {\n\t\tconst resp = await fetchSinToken(\n\t\t\t\"auth/new\",\n\t\t\t{ email, password, name },\n\t\t\t\"POST\"\n\t\t);\n\t\tconst body = await resp.json();\n\n\t\tif (body.ok) {\n\t\t\tlocalStorage.setItem(\"token\", body.token);\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\n\n\t\t\tdispatch(login({ uid: body.uid, name: body.name }));\n\t\t} else {\n\t\t\tSwal.fire(\"Error\", body.msg, \"error\");\n\t\t}\n\t};\n};\n\nexport const startChecking = () => {\n\treturn async (dispatch) => {\n\t\tconst resp = await fetchConToken(\"auth/renew\");\n\t\tconst body = await resp.json();\n\n\t\tif (body.ok) {\n\t\t\tlocalStorage.setItem(\"token\", body.token);\n\t\t\tlocalStorage.setItem(\"token-init-date\", new Date().getTime());\n\n\t\t\tdispatch(login({ uid: body.uid, name: body.name }));\n\t\t} else {\n\t\t\tdispatch(checkingFinish());\n\t\t}\n\t};\n};\n\nconst checkingFinish = () => ({\n\ttype: types.authCheckingFinish,\n});\n\nconst login = (user) => ({\n\ttype: types.authLogin,\n\tpayload: user,\n});\n\nexport const startLogout = () => {\n\treturn async (dispatch) => {\n\t\tlocalStorage.clear();\n\t\tdispatch(eventLogout());\n\t\tdispatch(logout());\n\t};\n};\n\nconst logout = () => ({\n\ttype: types.authLogout,\n});\n","import React from \"react\";\nimport \"./login.css\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { useDispatch } from \"react-redux\";\nimport { startLogin, startRegister } from \"../../actions/auth\";\nimport Swal from \"sweetalert2\";\n\nexport const LoginScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst [formLoginValues, handleLoginInputChange] = useForm({\n\t\tlEmail: \"diegofranchina@gmail.com\",\n\t\tlPassword: \"123456\",\n\t});\n\n\tconst [formRegisterValues, handleRegisterInputChange] = useForm({\n\t\trName: \"Diego\",\n\t\trEmail: \"diegofranchina3@gmail.com\",\n\t\trPassword: \"123456\",\n\t\trPassword2: \"123456\",\n\t});\n\n\tconst { lEmail, lPassword } = formLoginValues;\n\tconst { rName, rEmail, rPassword, rPassword2 } = formRegisterValues;\n\n\tconst handleLogin = (e) => {\n\t\te.preventDefault();\n\t\tdispatch(startLogin(lEmail, lPassword));\n\t};\n\n\tconst handleRegister = (e) => {\n\t\te.preventDefault();\n\t\tif (rPassword !== rPassword2) {\n\t\t\treturn Swal.fire(\n\t\t\t\t\"Error\",\n\t\t\t\t\"Las contraseñas deben de ser iguales\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\t\tdispatch(startRegister(rEmail, rPassword, rName));\n\t};\n\n\treturn (\n\t\t<div className=\"container login-container\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-md-6 login-form-1\">\n\t\t\t\t\t<h3>Ingreso</h3>\n\t\t\t\t\t<form onSubmit={handleLogin}>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\n\t\t\t\t\t\t\t\tname=\"lEmail\"\n\t\t\t\t\t\t\t\tvalue={lEmail}\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\t\t\t\t\tname=\"lPassword\"\n\t\t\t\t\t\t\t\tvalue={lPassword}\n\t\t\t\t\t\t\t\tonChange={handleLoginInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"btnSubmit\"\n\t\t\t\t\t\t\t\tvalue=\"Login\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-md-6 login-form-2\">\n\t\t\t\t\t<h3>Registro</h3>\n\t\t\t\t\t<form onSubmit={handleRegister}>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Nombre\"\n\t\t\t\t\t\t\t\tname=\"rName\"\n\t\t\t\t\t\t\t\tvalue={rName}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Correo\"\n\t\t\t\t\t\t\t\tname=\"rEmail\"\n\t\t\t\t\t\t\t\tvalue={rEmail}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Contraseña\"\n\t\t\t\t\t\t\t\tname=\"rPassword\"\n\t\t\t\t\t\t\t\tvalue={rPassword}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\tplaceholder=\"Repita la contraseña\"\n\t\t\t\t\t\t\t\tname=\"rPassword2\"\n\t\t\t\t\t\t\t\tvalue={rPassword2}\n\t\t\t\t\t\t\t\tonChange={handleRegisterInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tclassName=\"btnSubmit\"\n\t\t\t\t\t\t\t\tvalue=\"Crear cuenta\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { startLogout } from \"../../actions/auth\";\n\nexport const Navbar = () => {\n\tconst { name } = useSelector((state) => state.auth);\n\tconst dispatch = useDispatch();\n\n\tconst handleLogout = () => {\n\t\tdispatch(startLogout());\n\t};\n\n\treturn (\n\t\t<div className=\"navbar navbar-dark bg-dark mb-4\">\n\t\t\t<span className=\"navbar-brand\">\n\t\t\t\tCalendarApp - Bienvenido {name}\n\t\t\t</span>\n\n\t\t\t<button className=\"btn btn-outline-danger\" onClick={handleLogout}>\n\t\t\t\t<i className=\"fas fa-sign-out-alt\"></i>\n\t\t\t\t<span> Salir</span>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n","import React from \"react\";\n\nexport const CalendarEvent = ({event}) => {\n\tconst {\n\t\ttitle,\n\t\tuser\n\t} = event;\n\treturn (\n\t\t<div>\n\t\t\t<strong>{title}</strong>\n\t\t\t<span> - {user.name}</span>\n\t\t</div>\n\t);\n};\n","import { types } from \"../types/types\";\n\nexport const uiOpenModal = () => ({\n    type: types.uiOpenModal,\n});\n\nexport const uiCloseModal = () => ({\n    type: types.uiCloseModal,\n});\n","import React, { useState, useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport moment from \"moment\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport Swal from \"sweetalert2\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { uiCloseModal } from \"../../actions/ui\";\nimport {\n\teventClearActiveEvent,\n\teventStartAddNew,\n\teventStartUpdate,\n} from \"../../actions/events\";\n\nconst customStyles = {\n\tcontent: {\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tright: \"auto\",\n\t\tbottom: \"auto\",\n\t\tmarginRight: \"-50%\",\n\t\ttransform: \"translate(-50%, -50%)\",\n\t},\n};\n\nModal.setAppElement(\"#root\");\n\nconst now = moment().minutes(0).seconds(0).add(1, \"hours\"); // 3:00:00\nconst nowPlus1 = now.clone().add(1, \"hours\");\n\nconst initEvent = {\n\ttitle: \"\",\n\tnotes: \"\",\n\tstart: now.toDate(),\n\tend: nowPlus1.toDate(),\n};\n\n// START Component\nexport const CalendarModal = () => {\n\tconst [dateStart, setDateStart] = useState(now.toDate());\n\tconst [dateEnd, setDateEnd] = useState(nowPlus1.toDate());\n\tconst [titleValid, setTitleValid] = useState(true);\n\tconst { modalOpen } = useSelector((state) => state.ui);\n\tconst { activeEvent } = useSelector((state) => state.calendar);\n\n\tconst dispatch = useDispatch();\n\n\tconst [formValues, setFormValues] = useState(initEvent);\n\n\tconst { title, notes, start, end } = formValues;\n\n\t//Cuando hay cambios....\n\tuseEffect(() => {\n\t\tif (activeEvent) {\n\t\t\tsetFormValues(activeEvent);\n\t\t} else {\n\t\t\tsetFormValues(initEvent);\n\t\t}\n\t}, [activeEvent, setFormValues]);\n\n\tconst handleInputChange = ({ target }) => {\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\t[target.name]: target.value,\n\t\t});\n\t};\n\n\tconst closeModal = () => {\n\t\tdispatch(uiCloseModal());\n\t\tdispatch(eventClearActiveEvent());\n\t\t//Limpia el form\n\t\tsetFormValues(initEvent);\n\t};\n\n\tconst handleStartDateChange = (e) => {\n\t\tsetDateStart(e);\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tstart: e,\n\t\t});\n\t};\n\n\tconst handleEndDateChange = (e) => {\n\t\tsetDateEnd(e);\n\t\tsetFormValues({\n\t\t\t...formValues,\n\t\t\tend: e,\n\t\t});\n\t};\n\n\tconst handleSubmitForm = (e) => {\n\t\te.preventDefault();\n\n\t\tconst momentStart = moment(start);\n\t\tconst momentEnd = moment(end);\n\n\t\tif (momentStart.isSameOrAfter(momentEnd)) {\n\t\t\treturn Swal.fire(\n\t\t\t\t\"Error\",\n\t\t\t\t\"La fecha fin debe ser mayor a la fecha de inicio\",\n\t\t\t\t\"error\"\n\t\t\t);\n\t\t}\n\n\t\tif (title.trim().length < 2) {\n\t\t\treturn setTitleValid(false);\n\t\t}\n\n\t\tif (activeEvent) {\n\t\t\tdispatch(eventStartUpdate(formValues));\n\t\t} else {\n\t\t\t//Add new Event\n\t\t\tdispatch(eventStartAddNew(formValues));\n\t\t}\n\n\t\tsetTitleValid(true);\n\t\tcloseModal();\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tisOpen={modalOpen}\n\t\t\t// onAfterOpen={afterOpenModal}\n\t\t\tonRequestClose={closeModal}\n\t\t\tstyle={customStyles}\n\t\t\tcloseTimeoutMS={200}\n\t\t\tclassName=\"modal\"\n\t\t\toverlayClassName=\"modal-fondo\">\n\t\t\t<h1>{activeEvent ? \"Editar evento\" : \"Nuevo evento\"}</h1>\n\t\t\t<hr />\n\t\t\t<form onSubmit={handleSubmitForm} className=\"container\">\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Fecha y hora inicio</label>\n\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\tonChange={handleStartDateChange}\n\t\t\t\t\t\tvalue={dateStart}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Fecha y hora fin</label>\n\t\t\t\t\t<DateTimePicker\n\t\t\t\t\t\tonChange={handleEndDateChange}\n\t\t\t\t\t\tvalue={dateEnd}\n\t\t\t\t\t\tminDate={dateStart}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<hr />\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>Titulo y notas</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName={`form-control ${\n\t\t\t\t\t\t\t!titleValid && \"is-invalid\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tplaceholder=\"Título del evento\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t/>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tUna descripción corta\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<textarea\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Notas\"\n\t\t\t\t\t\trows=\"5\"\n\t\t\t\t\t\tname=\"notes\"\n\t\t\t\t\t\tvalue={notes}\n\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<small id=\"emailHelp\" className=\"form-text text-muted\">\n\t\t\t\t\t\tInformación adicional\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tclassName=\"btn btn-outline-primary btn-block\">\n\t\t\t\t\t<i className=\"far fa-save\"></i>\n\t\t\t\t\t<span> Guardar</span>\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</Modal>\n\t);\n};\n","export const messages = {\n\tallDay: \"Todo el día\",\n\tprevious: \"<\",\n\tnext: \">\",\n\ttoday: \"Hoy\",\n\tmonth: \"Mes\",\n\tweek: \"Semana\",\n\tday: \"Día\",\n\tagenda: \"Agenda\",\n\tdate: \"Fecha\",\n\ttime: \"Hora\",\n\tevent: \"Evento\",\n\tnoEventsInRange: \"No hay eventos en este rango\",\n\tshowMore: (total) => `+ Ver más (${total})`,\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { uiOpenModal } from \"../../actions/ui\";\n\nexport const AddNewFab = () => {\n\tconst dispatch = useDispatch();\n\n\tconst handleClickNew = () => {\n\t\tdispatch(uiOpenModal());\n\t};\n\n\treturn (\n\t\t<button className=\"btn btn-primary fab\" onClick={handleClickNew}>\n\t\t\t<i className=\"fas fa-plus\"></i>\n\t\t</button>\n\t);\n};\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { eventStartDelete } from \"../../actions/events\";\n\nexport const DeleteEventFab = () => {\n\tconst dispatch = useDispatch();\n\tconst handleDelete = () => {\n\t\tdispatch(eventStartDelete());\n\t};\n\n\treturn (\n\t\t<button\n\t\t\tclassName=\"btn btn-danger fab-danger\"\n\t\t\tonClick={() => handleDelete()}>\n\t\t\t<i className=\"fas fa-trash\"></i>\n\t\t\t<span> Borrar evento</span>\n\t\t</button>\n\t);\n};\n","import React, { useState } from \"react\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"moment/locale/es\";\nimport { Navbar } from \"../ui/Navbar\";\nimport { CalendarEvent } from \"./CalendarEvent\";\nimport { CalendarModal } from \"./CalendarModal\";\n\nimport { messages } from \"../../helpers/calendar-messages-es\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiOpenModal } from \"../../actions/ui\";\nimport {\n\teventSetActive,\n\teventClearActiveEvent,\n\teventStartLoading,\n} from \"../../actions/events\";\nimport { AddNewFab } from \"../ui/AddNewFab\";\nimport { DeleteEventFab } from \"../ui/DeleteEventFab\";\nimport { useEffect } from \"react\";\n\nmoment.locale(\"es\");\n\nconst localizer = momentLocalizer(moment);\n\nexport const CalendarScreen = () => {\n\tconst dispatch = useDispatch();\n\tconst { events, activeEvent } = useSelector((state) => state.calendar);\n\tconst { uid } = useSelector((state) => state.auth);\n\n\tconst [lastView, setLastView] = useState(\n\t\tlocalStorage.getItem(\"lastView\") || \"month\"\n\t);\n\n\tuseEffect(() => {\n\t\tdispatch(eventStartLoading());\n\t}, [dispatch]);\n\n\tconst onDoubleClick = (e) => {\n\t\t// console.log(e);\n\t\tdispatch(uiOpenModal());\n\t};\n\tconst onSelectEvent = (e) => {\n\t\tdispatch(eventSetActive(e));\n\t};\n\tconst onViewChange = (e) => {\n\t\tsetLastView(e);\n\t\tlocalStorage.setItem(\"lastView\", e);\n\t};\n\n\tconst onSelectSlot = (e) => {\n\t\tdispatch(eventClearActiveEvent());\n\t};\n\n\tconst eventStyleGetter = (event, start, end, isSelected) => {\n\t\tconst style = {\n\t\t\tbackgroundColor: (uid === event.user._id) ? '#367CF7' : '#465660',\n\t\t\tborderRadius: \"0px\",\n\t\t\topacity: 0.8,\n\t\t\tdisplay: \"block\",\n\t\t\tcolor: \"white\",\n\t\t};\n\n\t\treturn { style };\n\t};\n\n\treturn (\n\t\t<div className=\"calendar-screen\">\n\t\t\t<Navbar />\n\t\t\t<Calendar\n\t\t\t\tlocalizer={localizer}\n\t\t\t\tevents={events}\n\t\t\t\tstartAccessor=\"start\"\n\t\t\t\tendAccessor=\"end\"\n\t\t\t\tmessages={messages}\n\t\t\t\teventPropGetter={eventStyleGetter}\n\t\t\t\tonDoubleClickEvent={onDoubleClick}\n\t\t\t\tonSelectEvent={onSelectEvent}\n\t\t\t\tonView={onViewChange}\n\t\t\t\tonSelectSlot={onSelectSlot}\n\t\t\t\tselectable={true}\n\t\t\t\tview={lastView}\n\t\t\t\tcomponents={{ event: CalendarEvent }}\n\t\t\t/>\n\t\t\t<AddNewFab />\n\t\t\t{activeEvent && <DeleteEventFab />}\n\t\t\t<CalendarModal />\n\t\t</div>\n\t);\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nconst PublicRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? <Redirect to=\"/\" /> : <Component {...props} />\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default PublicRoute;\n\nPublicRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nconst PrivateRoute = ({ isAuthenticated, component: Component, ...rest }) => {\n\treturn (\n\t\t<Route\n\t\t\t{...rest}\n\t\t\tcomponent={(props) =>\n\t\t\t\tisAuthenticated ? (\n\t\t\t\t\t<Component {...props} />\n\t\t\t\t) : (\n\t\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t\t)\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default PrivateRoute;\n\nPrivateRoute.propTypes = {\n\tisAuthenticated: PropTypes.bool.isRequired,\n\tcomponent: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRedirect,\n} from \"react-router-dom\";\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { CalendarScreen } from \"../components/calendar/CalendarScreen\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { startChecking } from \"../actions/auth\";\nimport PublicRoute from \"./PublicRoute\";\nimport PrivateRoute from \"./PrivateRoute\";\n\nexport const AppRouter = () => {\n\tconst dispatch = useDispatch();\n\tconst { checking, uid } = useSelector((state) => state.auth);\n\n\tuseEffect(() => {\n\t\tdispatch(startChecking());\n\t}, [dispatch]);\n\n\tif (checking) {\n\t\treturn <h5>Espere...</h5>;\n\t}\n\n\treturn (\n\t\t<Router>\n\t\t\t<div>\n\t\t\t\t<Switch>\n\t\t\t\t\t<PublicRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\tcomponent={LoginScreen}\n\t\t\t\t\t\tisAuthenticated={!!uid}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<PrivateRoute\n\t\t\t\t\t\texact\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\tcomponent={CalendarScreen}\n\t\t\t\t\t\tisAuthenticated={!!uid}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</Router>\n\t);\n};\n","import React from \"react\";\nimport { store } from \"./store/store\";\nimport { AppRouter } from \"./router/AppRouter\";\nimport { Provider } from \"react-redux\";\n\nexport const CalendarApp = () => {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<AppRouter />\n\t\t</Provider>\n\t);\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport { CalendarApp } from \"./CalendarApp\";\n\nReactDOM.render(<CalendarApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}